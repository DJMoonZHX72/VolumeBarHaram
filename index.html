<!DOCTYPE html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Volume Gambling (Haram)</title>
  <style>
    :root{--bg:#0b1020;--card:#0f1724;--accent:#7c3aed;--muted:#98a0b3}
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#071028 0%, #07102a 60%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:880px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(0,0,0,0.05));border-radius:12px;padding:22px;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0;font-size:20px}
.col{flex:1}
.controls{display:flex;gap:10px;align-items:center}
input[type=number], input[type=range], select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
button{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(124,58,237,0.2)}
button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04)}

.slot-machine{display:flex;gap:8px;margin:18px 0;justify-content:center}
.reel{width:110px;height:110px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.06));display:flex;align-items:center;justify-content:center;font-size:40px}
.reel.spin{animation:spinFrame 0.08s linear infinite}
@keyframes spinFrame{from{transform:translateY(0)}to{transform:translateY(-4px)}}

.status{display:flex;align-items:center;gap:12px;margin-top:8px}
.volume-display{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.02);width:240px}
.bar{height:10px;border-radius:999px;background:rgba(255,255,255,0.06);overflow:hidden}
.bar > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#3b82f6);transition:width 650ms cubic-bezier(.2,.8,.2,1)}

.small{font-size:13px;color:var(--muted)}
footer{margin-top:12px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center}

@media (max-width:720px){.row{flex-direction:column}.volume-display{width:100%}.slot-machine{gap:6px}.reel{width:90px;height:90px;font-size:34px}}

  </style>
</head>
<body>
  <div class="card">
    <header>
      <h1>Volume Gambling — Volume bar terburuk🗿</h1>
    </header><section class="row">
  <div class="col" style="max-width:420px">
    <label class="small">Target volume (%)</label>
    <div style="display:flex;gap:8px;margin-top:6px">
      <input id="targetInput" type="range" min="0" max="100" value="50" />
    </div>

    <div style="margin-top:12px">
      <div style="display:flex;gap:8px;margin-top:6px">
        <button id="spinBtn">SPIN 🎰</button>
      </div>
    </div>
  </div>

  <div class="col">
    <div style="display:flex;justify-content:space-between;align-items:center">
    </div>

    <div class="slot-machine" id="slots">
      <div class="reel" id="r1">🔊</div>
      <div class="reel" id="r2">🔊</div>
      <div class="reel" id="r3">🔊</div>
    </div>

    <div class="status">
      <div class="volume-display">
        <div style="display:flex;justify-content:space-between;align-items:center"><strong id="volText">50%</strong><span class="small" id="volLabel">Current</span></div>
        <div class="bar"><i id="volBar"></i></div>
      </div>

      <div style="flex:1">
        <div style="height:10px;margin-top:12px;border-radius:8px;background:rgba(255,255,255,0.03);overflow:hidden">
          <div id="chanceBar" style="height:100%;width:10%;transition:width 400ms"></div>
        </div>

        <div style="margin-top:18px;display:flex;gap:8px;flex-wrap:wrap">
          <button id="tryAgain" class="ghost">Try Again</button>
          <button id="reset" class="ghost">Reset</button>
        </div>
      </div>
    </div>

  </div>
</section>

<footer>
  <div>Made for chaos :V</div>
</footer>

  </div>  <script>
    // Simple slot items (emojis + labels)
    const ITEMS = ['🔇','🔈','🔉','🔊','🎵','⚠️','💥','69%','420%','✨'];

    const r1 = document.getElementById('r1');
    const r2 = document.getElementById('r2');
    const r3 = document.getElementById('r3');
    const spinBtn = document.getElementById('spinBtn');
    const targetInput = document.getElementById('targetInput');
    const volText = document.getElementById('volText');
    const volBar = document.getElementById('volBar');
    const chanceLabel = document.getElementById('chanceLabel');
    const chanceBar = document.getElementById('chanceBar');

    const tryAgain = document.getElementById('tryAgain');
    const reset = document.getElementById('reset');
    const setBtn = document.getElementById('setBtn');

    let currentVolume = 50; // simulated current volume
    let spinning = false;

    function renderVolume(v){
      currentVolume = Math.max(0, Math.min(100, Math.round(v)));
      volText.textContent = currentVolume + '%';
      volBar.style.width = currentVolume + '%';
    }

    function updateChanceUI(){
      const p = 1;
      const chancePercent = Math.max(1, Math.min(1000, p));
      const visual = Math.min(100, Math.round(1000 / chancePercent));
      chanceBar.style.width = (100 / chancePercent * 100) + '%';
    }

    updateChanceUI();

    function spinReels(duration = 1400){
      const reels = [r1, r2, r3];
      reels.forEach(r => r.classList.add('spin'));
      const intervals = reels.map((r,idx)=>{
        return setInterval(()=>{
          r.textContent = ITEMS[Math.floor(Math.random()*ITEMS.length)];
        }, 60 + idx*20);
      });

      return new Promise(resolve => {
        setTimeout(()=>{
          intervals.forEach(i=>clearInterval(i));
          reels.forEach(r=>r.classList.remove('spin'));
          // final values
          const finals = reels.map(()=>ITEMS[Math.floor(Math.random()*ITEMS.length)]);
          r1.textContent = finals[0];
          r2.textContent = finals[1];
          r3.textContent = finals[2];
          resolve(finals);
        }, duration);
      });
    }

    async function doSpin(){
      if(spinning) return;
      spinning = true;
      spinBtn.textContent = 'Spinning...';
      spinBtn.disabled = true;

      const target = Math.max(0, Math.min(100, Number(targetInput.value) || 50));
      const prob = Math.max(1, Math.min(1000, 10));

      const finals = await spinReels(1200 + Math.random()*600);

      const roll = Math.floor(Math.random()*prob);

      const allEqual = finals[0] === finals[1] && finals[1] === finals[2];
      const finalJackpot = allEqual;

      if(finalJackpot){
        renderVolume(target);
        explodeConfetti();
      }

      spinBtn.textContent = 'SPIN 🎰';
      spinBtn.disabled = false;
      spinning = false;
    }

    spinBtn.addEventListener('click', doSpin);
    tryAgain.addEventListener('click', () => { if(!spinning) doSpin(); });
    reset.addEventListener('click', () => { renderVolume(50); });

    // tiny confetti effect
    function explodeConfetti(){
      for(let i=0;i<24;i++){
        const el = document.createElement('div');
        el.textContent = ['✨','🎉','💥','🍀'][Math.floor(Math.random()*4)];
        el.style.position='fixed';
        el.style.left = (50 + (Math.random()*120-60)) + '%';
        el.style.top = (30 + Math.random()*40) + '%';
        el.style.fontSize = (8+Math.random()*20)+'px';
        el.style.opacity = '0.9';
        el.style.transform = `translateY(${ - (20 + Math.random()*200)}px)`;
        document.body.appendChild(el);
        setTimeout(()=>el.remove(),1200);
      }
    }

    // init
    renderVolume(currentVolume);
  </script></body>
</html>
